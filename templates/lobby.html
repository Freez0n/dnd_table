<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>D&D VTT - Лобби</title>
    <link rel="stylesheet" href="/static/style.css">
    <link href="https://fonts.googleapis.com/css2?family=MedievalSharp&family=Inter:wght@400;700&display=swap" rel="stylesheet">
</head>
<body class="lobby-page">
    <nav class="top-nav">
        <div class="user-info">
            Привет, <span>{{ current_user.username }}</span>
        </div>
        <a href="/logout" class="logout-link">Покинуть таверну</a>
    </nav>

    <div class="lobby-container">
        <header class="lobby-header">
            <h1 class="logo">Доступные <span>Приключения</span></h1>
        </header>

        <main class="lobby-content">
            <section class="create-room-card">
                <h3>Создать новый стол</h3>
                <form action="/create_room" method="POST" class="inline-form">
                    <input type="text" name="room_name" placeholder="Название кампании..." required>
                    <button type="submit" class="main-btn">Открыть стол</button>
                </form>
            </section>

            <div class="rooms-grid">
                {% for room in rooms %}
                <div class="room-item">
                    <div class="room-info">
                        <h2>{{ room.name }}</h2>
                        <p>Мастер: <span>{{ room.dm_username }}</span></p>
                    </div>
                    <a href="/room/{{ room.id }}" class="join-btn">Войти</a>
                </div>
                {% else %}
                <div class="empty-state">
                    <p>Пока нет активных приключений. Стань первым мастером!</p>
                </div>
                {% endfor %}
            </div>
        </main>
    </div>
</body>
</html>